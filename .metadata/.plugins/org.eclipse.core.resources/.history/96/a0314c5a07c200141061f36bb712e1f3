import javax.swing.*;

public class UserGrid extends Grid{

	public UserGrid() {
		super();
	}
	
	private int coordReader(String coord){ //Interpreta las coordenadas (A,B...)
		int rowCoord = 0;
		if (coord.charAt(0) == 'a'){
			rowCoord= 0;
		}
		else if (coord.charAt(0) == 'b'){
			rowCoord=  1;
		}
		else if (coord.charAt(0) == 'c'){
			rowCoord=  2;
		}
		else if (coord.charAt(0) == 'd'){
			rowCoord=  3;
		}
		else if (coord.charAt(0) == 'e'){
			rowCoord=  4;
		}
		else if (coord.charAt(0) == 'f'){
			rowCoord=  5;
		}
		else if (coord.charAt(0) == 'g'){
			rowCoord=  6;
		}
		else if (coord.charAt(0) == 'h'){
			rowCoord=  7;
		}
		else if (coord.charAt(0) == 'i'){
			rowCoord=  8;
		}
		else if (coord.charAt(0) == 'j'){
			rowCoord=  9;
		}
		else{
			JOptionPane.showMessageDialog(null, "Invalid Coordenate!");
			rowCoord =-1;
		}
		return rowCoord;
	}
	
	public void setGameObjectUserGrid(GameObject gameObject){//Recibe el input
		String coord = JOptionPane.showInputDialog("Inserta la coordenada");
		int row = this.coordReader(coord);
		int column = Character.getNumericValue(coord.charAt(1));
		
		gameObject= new GameObject(row, column);
		if (setGameObject(gameObject)){
			setGameObject(gameObject);
		}
		else{
			JOptionPane.showMessageDialog(null, "Invalid Coordenate!");
		}
	}
	
	public void setShipsInUserGrid(){//Inicializa los 5 barcos en el juego
		JOptionPane.showMessageDialog(null, "Es momento de ordenar tus barcos");
		for (int i=0; i<5; i++){
			//Obtiene la coordenada del barco
			String coord = JOptionPane.showInputDialog("Inserta la coordenada del barco "+i+1);
			int row = this.coordReader(coord);
			int column = Character.getNumericValue(coord.charAt(1));
			
			JOptionPane.showMessageDialog(null, "Tu coordenada es: "+row+", "+column);
			this.printGrid();
			
			//Obtiene su orientación
			boolean orientation;
			String orientationStr =  JOptionPane.showInputDialog("Inserta su orientación");
			if(orientationStr.equals("horizontal")){
				orientation = true;
			}
			else{
				orientation = false;
			}
			
			//Obtiene su length
			int length = 0;
			switch (i){
			case 1:
				length = 5;
			case 2:
				length = 4;
			case 3:
				length = 3;
			case 4:
				length = 3;
			case 5:
				length = 2;
			}
			
			this.grid[row][column]= new Ships(row, column, orientation, length);
			System.out.println("Your Board");
		}
	}
	
}
